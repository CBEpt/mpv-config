##⇘⇘基本说明：
## 行首存在注释符"#"，代表此项处于不启用状态（即恢复MPV的默认设置状态），删去即启用
## 部分启用的参数没有"="，则该项实际为"yes"。例如deband默认关闭： --deband 实际等效 --deband=yes；类推 --deband=no 等效注释掉该参数
## 注释内容解释 —— # <可选值> [条件要求] 参数意义说明 （补充）

########
# 基础 # 
########

# 解码
hwdec=no                       # 指定应使用的硬件视频解码API。软解改值为 no。硬解建议使用 auto-copy。10系以上N卡强烈建议使用 nvdec-copy,帕斯卡/图灵架构N卡可以使用nvdec-copy，后者可硬解yuv444
                               # --hwdec=auto 等效 --hwdec=yes。当 --gpu-api=d3d11 时，值 auto-copy 默认为 dxva2-copy，此外你也可以使用 d3d11va-copy
                               # 从个人需求出发，不推荐选用效率最高的 无-copy 参数，因为要确保所有滤镜/着色器正常作用（有些不支持native模式）
#hwdec-codecs=all              # 在选定范围内的编码格式尝试硬解，当前版本默认值为 --hwdec-codecs=h264,vc1,hevc,vp8,vp9,av1
vo=gpu                         # 指定要使用的视频输出后端。
gpu-api=d3d11                  ### 使用d3d11 （mpv对于windows的默认。显卡注意开自适应电源模式）
                               # 通过d3d11-adapter可以设定mpv使用哪块显卡。详见文档：https://mpv.io/manual/master/#options-d3d11-adapt
                               ### gpu-api的选择？
                               ## macOS：  只有opengl可选
                               ## Linux：  vulkan或者opengl，推荐vulkan
                               ## Windows：vulkan、d3d11及opengl都可选。三者理论上vulkan性能最好，但依然推荐d3d11。
                               ## 通过d3d11 api，目前mpv已支持windows的10 bit输出和HDR colorspace的设定。
                               ## HDR metadata pass on正在跟进，独占全屏正在跟进。
#gpu-context=auto              # 选择输出后端。此项通常由 --gpu-api=<value> 自动决定正确值；--gpu-api=opengl 时默认选用 angle ，此时最好改为 win/dxinterop
#fbo-format=auto               # 内处理精度。此项通常由 --gpu-api=<value> 自动决定正确值，默认首选16位及以上的精度
#d3d11-exclusive-fs=yes        # --gpu-api=d3d11 下的全屏独占
#d3d11-flip=no                 # [通常发生在 --d3d11-exclusive-fs=yes 和 --on-top 一起使用时] 可用于避免MPV全屏时的冻屏问题
                               # 如果存在上述问题则启用该参数，否则不应该使用，因为d3d11下的翻转模型性能最好
                               # [当 --gpu-context=angle 也存在全屏冻屏问题时] 用参数 --angle-flip=no 代替 d3d11-flip=no
##⇘⇘双显卡笔记本的处理

#vd=h264_qsv,hevc_qsv,mpeg2_qsv,vp9_qsv,vp8_qsv,av1_qsv
                               # 在Intel核显&NVDIA_MX_x50这种配置组合的条件下，如果使用独显渲染，因为MX系列独显没有解码单元，即使使用hwdec指定硬解实际依然只能软解
                               # 使用此参数可使用核显硬解、辅助渲染的同时让独显主力渲染（当 hwdec=no 时快进可能造成MPV假死，建议使用 xxxx-copy 的解码方式）
#d3d11-adapter="NVIDIA GeForce RTX 2070 Super"
                               # [当 gpu-api=d3d11 时] 指定某张显卡作为主渲染输出，默认情况下自动选择系统指定的主渲染显卡。
                               # 显卡名可查看任务管理器自行更改适配。该参数等效在驱动面板中设置以独显运行mpv
                               # 例如使用I+N的双显笔记本的内屏时，实际使用的是"Intel(R) UHD Graphics"，修改该项示例指定独显可大幅降低任务管理器中双显卡的3d渲染占比
                               # 大多数双显卡笔记本在外接显示器时，表现类似“独显直连”，此时无需该参数也会自动用独显输出


######## 
# 功能 # 
######## 

#fs                                   # fs=fullscreen 打开即全屏幕
no-border                             # 默认为系统原生窗口界面，启用此项使用无边框界面（去除WINDOWS的窗口装饰）
#window-maximized=yes                 # 运行MPV自动窗口最大化（无边框界面时的最大化类似“无边窗口模式”而非“全屏”）
#background="#778899"                 # <格式为(AA)RRGGBB> 更改MPV初启动与播放无视频轨文件时的背景颜色
hidpi-window-scale                    # 执行hidpi缩放
autofit-larger=80%x80%                # 窗口模式下最大占屏幕的百分比（例如在FHD屏上打开4k视频初始窗口过大）
autofit-smaller=50%x50%               # 窗口模式下最小占屏幕的百分比（例如在4k屏上打开480p视频初始窗口过小）
#keepaspect=no                        # 默认yes，默认情况下MPV只按源比例拉伸视频。启用此项将始终变形画面至窗口大小
#keepaspect-window=no                 # 默认yes，默认情况下MPV的窗口比例锁定为视频比例。启用此项以实现窗口自由拉伸行为（当 keepaspect=yes 时四周填充黑边）
#panscan=1.0                          # <0.0-1.0> 裁切横向画面以充满窗口（建议配合 keepaspect-window=no 使用）
pause                                 # 以暂停状态启动播放器
#loop=inf                             # <N|inf|no> 始终循环播放当前文件
#loop-playlist=no                     # <N|inf|force|no>播放列表循环
keep-open=yes                         # 播放完毕不退出
#untimed                              # 输出视频帧时请勿入睡。（开启后无法正确显示补帧数值）
write-filename-in-watch-later-config  # 将文件名写入播放记录缓存文件
log-file="~~/mpv.log"                 # 记录log
ontop                                 # 窗口置顶（当 --gpu-api=vulkan 时也有全屏独占作用）
#ontop-level=system                   # <默认window|system|level>
hr-seek-framedrop                     # fixes audio desync # SVP补帧时推荐设置为no
save-position-on-quit=yes             # 退出时记住播放状态。缓存目录默认在设置文件夹中的 "watch_later"
                                      # 退出时也可按快捷键 Q 保存进度
watch-later-options=start,volume
                                      # [SVP补帧时推荐设置为留空] 稍后观看的白名单（留空等效 start ，只保存播放位置）
                                      # 当 --save-position-on-quit=yes 或使用退出时保存到稍后观看的快捷键时，如果不使用白名单，滤镜列表、音量、速率等多个状态也会被保存并在下次启动时恢复
#watch-later-options-clr              # 恢复播放记录时禁止恢复播放过程中所有更改过的设置，这可以解决部分已知问题
#watch-later-options-remove=contrast  # 禁止部分参数恢复的话可使用该项来设置
                                      # 具体参数值：speed,edition,pause,volume,mute,audio-delay,fullscreen,ontop,border,gamma,brightness,contrast,saturation,hue,deinterlace,vf,af,panscan,aid,vid,sid,sub-delay,sub-speed,sub-pos,sub-visibility,sub-scale,sub-use-margins,sub-ass-force-margins,sub-ass-vsfilter-aspect-compat,sub-ass-override,ab-loop-a,ab-loop-b,video-aspect-override
                                      # 该项指定参数时目前必须单独列出，暂无法使用--watch-later-options=option1,option2,...来指定，建议使用watch-later-options白名单来设置
reset-on-next-file=contrast,brightness,gamma,saturation,hue,panscan,sub-pos,sub-scale,sub-delay,vf,af
                                      # 重设在播放过程中更改的部分相关设置（色彩，画面缩放，字幕设置)
input-ipc-server=\\.\pipe\mpvsocket   # input-ipc-server=<ipc_path> 开启Ipc功能，Linux/MacOS: input-ipc-server=/tmp/mpvsocket
#demuxer-max-bytes=500MiB             # 播放网络视频时的目标缓存大小（KiB或MiB）
#demuxer-readahead-secs=20            # 限制网络视频的最大缓存时间（秒数）

#######
# OSD #
#######

##⇘⇘OSD 即 On-Screen-Display ，通常为屏幕上弹出显示的信息。 OSC 即 on-screen-controller ，MPV中指的是简易操控界面
no-osd-bar
osd-on-seek=msg-bar              # <no,bar,msg,msg-bar> 在跳转时间轴时显示的信息类型               
#osd-blur=0
osd-bar-w=100
osd-bar-h=2
osd-bar-align-y=-1
#osd-color="#B300FFFF"
#osd-border-color="#B3008B8B"
osd-border-size=1
osd-font="NotoSansHans-Regular"
osd-font-size=36
osd-playing-msg="${filename}"    # 开始播放时短暂显示的信息：文件名
osd-fractions=yes                # 以秒为单位显示OSD时间（毫秒精度），有助于查看视频帧的确切时间戳
osd-duration=2000                # 设置OSD信息的持续时间（毫秒）（默认值：1000）

########                                       
# 视频 # 
######## 

#icc-profile-auto                # 如果做过专业校色可开启（系统目录存在对应的icm校色文档）。未做校色的广色域屏应手动指定target-prim=<value>，srgb屏无需更改此默认值。
#icc-3dlut-size=256x256x256      # 从每个维度的ICC配置文件生成的3D LUT的大小。默认值为64x64x64。范围<2--512>
#icc-cache-dir="~~/icc_cache"    # 指定目录存储和加载从ICC配置文件创建的3D LUT。这可以用来加快加载速度。请注意，这些文件包含未压缩的LUT。它们的大小取决于--icc-3dlut-size，并且可能非常大。注意：这不会自动清除，因此旧的，未使用的缓存文件可能会无限期地停留。
target-prim=auto                 # 广色域屏应该设定此参数为具体值以解决色彩过饱和的问题，当不使用ICC颜色管理时，视频颜色将适应此颜色空间。例如：99%的argb屏幕写adobe。90%+的p3色域屏写dci-p3。
video-sync=display-resample      # 类"ReClock"作用，更改为与视频帧与显示器刷新率同步，自动调节音频速度补偿偏移。 # SVP补帧时推荐关闭
                                 # 默认值audio（与音频/系统时钟同步）通常兼容性最好但有偶尔的丢帧和重复
video-sync-max-video-change=5    # [仅当 --video-sync=display-xxxx 时生效] 
interpolation                    # [仅当 --video-sync=display-xxxx 时生效] 减少由于视频fps和显示刷新率不匹配而引起的卡顿（也称为抖动）。 # SVP补帧时推荐关闭
                                 # interpolation使用的算法。详见https://mpv.io/manual/master/#options-tscale
                                 # 一些讨论见 https://github.com/mpv-player/mpv/issues/2685
tscale=oversample                # [仅开启 --interpolation 时生效] 时间插值算法（非MEMC运动补偿）。 # SVP补帧时推荐关闭
                                 # 目前的默认为mitchell。总体而言mitchell更平滑（当然不好和SVP插帧比），但会有模糊。oversample没有模糊，但不平滑（基本还原24帧的样子，效果类似MADVR的smoothmotion），triangle介于两者之间，catmull_rom相对锐利
                                 # 具体选择哪个请依据自身需求来
#profile=Tscale-box              # [启用前须先注释 --tscale=<value>] 备选的时间插值算法，具体参数见最下方配置区的同名配置

temporal-dither                  # 启用时间抖动
dither=fruit                     # <fruit|ordered|error-diffusion|no>  选择抖动算法
dither-size-fruit=6              # 当dither=fruit时生效  
#error-diffusion=sierra-lite     # 当dither=error-diffusion时生效

### profile=gpu-hq               # high quality video output, require rather fast video card
scale=ewa_lanczossharp           # 放大算法，profile=gpu-hq的默认为spline36
#cscale=lanczos                  # 色度升频算法；可由更好的"KrigBilateral.glsl"取代。默认值为bilinear （旋转BUG https://github.com/mpv-player/mpv/issues/8223）
dscale=mitchell                  # [使用"SSimDownscaler.glsl"时须锁mitchell] 缩小算法。若不设定，则自动采用 --scale=<value> 的值
dither-depth=auto                # <N|no|auto> 是否开启色深抖动弥补色彩转换损失。8位显示器写8，10位显示器写10，auto的值取决于 --gpu-api 不一定正确
                                 # 如果8抖10的显示器使用10存在输出异常的情况，改回值8
#linear-upscaling                # [须 --fbo-format 指定16位及以上的精度；与 --sigmoid-upscaling 不兼容] （对HDR内容无影响）
sigmoid-upscaling                # [与 --linear-upscaling 不兼容] 放大时非线性的颜色转换，可避免强振铃伪影
                                 ## 开发者建议要么优先使用 --sigmoid-upscaling ，要么以上两项干脆都不用
correct-downscaling              # [当 --dscale=bilinear 时此项无效] 增强缩小算法的质量，对于异形比例视频可能产生微小失真
linear-downscaling=no            # [使用"SSimDownscaler.glsl"时须关闭；须 --fbo-format 指定16位及以上的精度] （对HDR内容无影响）
                                 ## 上两项 --linear- 的参数对应MADVR中的"scale in linear light"，在缩小算法中线性处理可以提升颜色对比度的精确性
#scaler-resizes-only=no          # 默认yes，当未进行缩放处理时，使用bilinear算法完美还原，禁用时，即使未改变大小，也使用指定的scale值进行处理，可以修正nnedi3和ravu引入的半像素偏移（但没必要）
deband=no                        # 消去色带，无需常驻，可以选择视片源手动开启

profile=DeBand                   # [启用前需先注释 --deband] 备选的去色带方案，具体参数见最下方配置区的同名配置，接近madvr的deband设为medium
#profile=DeBand+                 # [启用前需先注释 --deband] 备选的去色带方案，具体参数见最下方配置区的同名配置，接近madvr的deband设为high
### 以上为profile=gpu-hq的具体设定范围

######## 
# 音频 # 
######## 

ao=wasapi                        # 经测试如果有其他软件独占音频通道后再打开MPV画面会无比卡顿
audio-device=auto                # 此项用于指定启动时的音频输出设备
                                 # 改具体值示例 --audio-device="wasapi/{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}"，设备名获取方式见发布页FAQ图文或官方手册
#audio-channels=stereo           # 如果双声道系统播放多声道影片时有的声道声音没出现，尝试强制设定为双声道
                                 # 多声道音轨downmix成双声道时，如果觉得背景音过响，角色台词声音小，尝试看看这个：https://github.com/mpv-player/mpv/issues/6563                                 
audio-exclusive=yes              # 音频通道独占。如果音频存在卡顿问题可关闭这项或以上一项。
#volume=100                      # 播放器启动音量。0为静音，默认100
volume-max=130                   # <100.0-1000.0> 最大音量。默认值130
audio-pitch-correction=yes       # [--af=scaletempo/scaletempo2/rubberband 的前置条件] 变速播放时的音调修正，默认开启。自动插入前三项音频滤镜中其一（更多信息见滤镜区）
#audio-delay=0.04                # 如需要，可设置音频延迟
#audio-samplerate=96000          # 强制resample成96kHz，24bit（需要音频设备硬件支持）。注意！并非必
#audio-format=s32
#audio-normalize-downmix=yes     # 规格化
audio-file-auto=fuzzy            # <默认no|exact|fuzzy|all> 自动加载同名外挂音轨
audio-file-paths=audio
alang=jpn,ja,eng,en
#aid=1
                                 # 暂时无法根据其他的metadata选择轨道，mpv又默认偏好外挂轨道，常常选到我不想要的音轨
                                 # 有类似情况的话就用aid=1始终选择第一条音轨再自己手动调吧
                                 # 设计者也是这么推荐的：https://github.com/mpv-player/mpv/issues/967#issuecomment-94744964


####################
# 脚本 滤镜 着色器 #
####################


gpu-shader-cache-dir="~~/shaders_cache"                                # 在mpv.conf所在目录下建一个 shaders_cache 空文件夹，以存放编译好的GPU shaders，加速启动。
                                                                       # 注意！如果不放APPDATA下，确保该文件夹有用户写入权限。
#input-ipc-server=mpvpipe                                              # 使用SVP manager时必须开启此项
                                                                       ### 同类别的滤镜算法互斥

##⇘⇘脚本部分
##内置脚本开关（如果没有必要的目的，那就不要屏蔽mpv内建的功能）
#load-auto-profiles=no                                                 # <yes|no|默认auto> 新版条件配置（使用旧版外挂的用户记得禁用）
#load-osd-console=no                                                   # 控制台
#load-stats-overlay=no                                                 # 统计信息
osc=no                                                                 # [缩略图引擎的前置条件] 禁用原OSC（即内置的"osc.lua"脚本）以兼容第三方的界面样式
load-scripts=yes                                                       # 与osc=no一起使用，是thumbnail脚本的必要前置条件
                                                                       # 自动挂载/scripts/目录中的所有脚本，默认yes。设置为no时可用下一行示例的命令加载指定脚本
#scripts="~~/scripts/autoload.lua;~~/scripts/playlistmanager.lua;~~/scripts/open-file-dialog.lua"
script-opts-append=autocrop-auto=no                                    # 禁用autocrop.lua（自动切黑边），同时影响panscan功能，依然可以通过快捷键"C"启用
                                                                       # autocrop会出现各种问题，无法自动识别非黑边画面自动切回，导致画面裁切异常
                                                                       # autocrop.lua只在软解下生效                                                                             
#ytdl=no                                                               # 网址解析增强

##⇘⇘滤镜部分
## 设定随MPV启动的音/视频滤镜的书写格式（支持多项） --af/vf=滤镜①=参数❶=值:参数❷=值,滤镜②...
## --af 和 --vf 仅能各存在一条。如果不想只使用这条参数，可以拆开写，例如使用 --vf-append 单项多次追加更多的滤镜，并不会覆盖 --vf=<value> 指定的滤镜
af-append=lavfi=[loudnorm=I=-16:TP=-3:LRA=4]                           # 多通道音轨调节各通道音，防止背景音或人声过小（双通道设备）
#af-append=lavfi=[dynaudnorm=g=5:f=250:r=0.9:p=0.5]

## 音频变速滤镜三选一（当前默认值已足够好）
#af=scaletempo=scale=1.0:stride=60:overlap=.20:search=14:speed=tempo
                                                                       # 旧版mpv使用的音频变速滤镜。示例值为默认参数
                                                                       # 其中的 scale=<N> 控制额外视频加速度；stride=<N> 值太高会导致在高速时跳音，低速出现回声，值太低会改变音调，值增大提升性能
                                                                       # overlap=<N> 重叠百分比，值减少提高分离度且提升性能；search=<N> 搜索最佳重叠位置的长度（毫秒），值减少提升性能
                                                                       # speed=<tempo|pitch|both|none> tempo节奏与速度同步，pitch造成卡顿不使用，both同时兼顾节奏与音调，none忽略速度变化不使用
#af=scaletempo2=min-speed=0.25:max-speed=4.0:search-interval=30:window-size=20  
                                                                       # 此项参数为变速播放时默认自动激活的音频滤镜。在 min/max-speed=<N> 此速度范围外直接静音处理。scaletempo2具有更高的音频质量
#af=rubberband                                                         # 声音质量介于scaletempo和scaletempo2之间。可调节的细参众多，详情见官方文档，这里直接使用默认参数 

#vf-append=format=gamma=gamma2.2                                       # MPV校色曲线目标是BT.1886，此视频滤镜用于回归常见的显示器标准 https://github.com/mpv-player/mpv/issues/8009
#vf-append=fps=fps=60/1.001                                            # 强制视频以指定帧率输出（此项与补帧冲突），通常被用于增强滚动弹幕的平滑性，不推荐使用 --sub-fps=<value> 。分子数值（取整）为你的显示器刷新率。

##⇘⇘着色器部分
## 此处的 --glsl-shaders=<value> 用于指定每次随MPV共同启动的着色器（支持多项）。更多详细着色器信息参见手册[01]
## --glsl-shaders-append 等效 --glsl-shader=<value> （注意和上行说明中参数的区别），表示追加着色器（单次仅能追加一项），并不会覆盖第一条 --glsl-shaders=<value> 指定的着色器，可无限追加该命令。

glsl-shaders-append="~~/shaders/KrigBilateral.glsl"                    # 高级的cscale色度升频算法
glsl-shaders-append="~~/shaders/FSRCNNX_x2_8-0-4-1.glsl"               # 快速超分辨率卷积神经网络放大算法
glsl-shaders-append="~~/shaders/FSRCNNX_x2_8-0-4-1.glsl"               # 快速超分辨率卷积神经网络放大算法
#glsl-shaders-append="~~/shaders/FSRCNNX_x2_8-0-4-1_LineArt.glsl"      # 快速超分辨率卷积神经网络放大算法（anime）
glsl-shaders-append="~~/shaders/SSimSuperRes.glsl"                     # 对mpv的内置放大算法进行校正（消除铃声伪影，恢复原始清晰度等）
glsl-shaders-append="~~/shaders/SSimDownscaler.glsl"                   # 缩小算法增强，与dscale=mitchell和linear downscaling=no一起使用


######## 
# 字幕 # 
######## 
sub-auto=fuzzy                                # <默认no|exact|fuzzy|all> 自动加载同名外挂字幕
sub-font-provider=auto                        # <默认auto|none|fontconfig> 字体渲染api选项，win推荐使用auto，DirectWrite性能最佳，有字体包需求的可选择fontconfig
                                              # auto 自动选择系统字体渲染接口：Windows为DirectWrite，Linux为fontconfig，macOS为CoreText
                                              # none 忽略字幕指定字体，使用sub-font参数，字幕样式不变（对内挂字幕无效）
                                              # fontconfig 使用mpv.conf目录下fonts.conf里的字体加载项，可自定义fonts路径
                                              # 使用自定义fonts路径时初次会将目录下所有字体写入内存，之后采用按需请求加载方式，加载相对auto稍慢，视需求选择
sub-file-paths=subs                           # 在指定的额外目录中寻找匹配的字幕。支持相对和绝对路径，示例即自动搜索当前文件路径下名为"sub","subtitles","字幕"和C盘的"字幕库"文件夹内
slang=chs,sc,chi,tc,zh,zh-CN                  # 字幕首选语言为中文，但MPV优先加载外挂轨道
#sid=1
blend-subtitles=no                            # <yes|video|默认no> 在插值和颜色管理之前，将字幕混合到视频帧上。值video类似于yes，但是以视频的原始分辨率绘制字幕，并与视频一起缩放
                                              # 启用此功能会将字幕限制在视频的可见部分（不能出现在视频下方的黑色空白处）
                                              # 还会让字幕受 --icc-profile，--target-prim，--target-trc，--interpolation，--gamma-factor 和 --glsl-shaders 的影响
                                              # 使用 --interpolation 时，配合合适的tscale算法，可提高字幕性能
sub-ass-force-margins=yes                     # [当 --blend-subtitles=yes/video 时无效] 使ass字幕尽可能输出在黑边上
stretch-image-subs-to-screen=yes              # 强制拉伸图形字幕到缩放分辨率而不是参考视频分辨率，可以使PGS实现输出在黑边的效果，可能破坏复杂图形字幕的显示效果

# 字幕显示出来和xy-subfilter不一样？尝试启用下面的设置
#sub-ass-vsfilter-blur-compat=no              # 通过视频分辨率而不是.ass指定的分辨率缩放"\blur"标签，默认开启， 关乎字幕模糊的设定
sub-ass-vsfilter-aspect-compat=no             # 播放非常规比例视频时拉伸ASS字幕来模仿传统的vsfilter行为，默认开启
sub-ass-force-style=ScaledBorderAndShadow=no  # 强制样式：不缩放边框和阴影。可防止所谓的“重墨”风格 https://github.com/libass/libass/issues/287


# 字幕设置，无内置风格时
sub-font="NotoSansHans-Regular"
sub-font-size=45
sub-color="#FFFFFFFF"
sub-border-color="#FF262626"
sub-border-size=1.5
sub-shadow-offset=1
sub-shadow-color="#33000000"
sub-spacing=0.5
sub-use-margins=yes                            # 是否使纯文本字幕输出在黑边上，默认yes

######## 
# 截图 # 
######## 

### 以下预设参数只是为了截取最高质量的图片
screenshot-format=webp                  # <默认jpg|png|webp>
#screenshot-png-compression=7           # <0-9> PNG压缩等级，过高的等级影响性能，默认为7
#screenshot-png-filter=5                # 设置在PNG压缩之前应用的过滤器。0为无，1为sub，2为up，3为average，4为Paeth，5为mixed，这会影响可以达到的压缩级别。对于大多数图像，mixed可实现最佳压缩率，因此它是默认设置。
#screenshot-jpeg-quality=100            # <0-100> JPEG的最高质量，默认为90
#screenshot-jpeg-source-chroma=yes      # 用与源视频相同的色度半采样写入JPEG，默认yes
screenshot-webp-lossless=yes            # 无损WEBP，默认no
screenshot-webp-quality=100             # 此项数值仅在 --screenshot-webp-lossless=no 时生效
screenshot-webp-compression=4           # WEBP压缩等级，使用有损WEBP时进一步降低图片质量，默认为4 <0-6>
screenshot-tag-colorspace=yes           # 使用适当的色彩空间标记屏幕截图（并非所有格式受支持）默认no
screenshot-high-bit-depth=yes           # 主要影响PNG，尽可能使用和视频输出时相同的位深，默认yes
screenshot-template="~~/screen/%flies-%P-N%n"
#screenshot-directory=~~desktop/        # s键保存路径默认桌面

# 为了应对VFR，禁用刷新率切换
# 下面这个脚本选项主要是个autospeedwin（自动调节显示器的刷新率）用的
#script-opts=autospeed-nircmd=true,autospeed-speed=false,autospeed-nircmdc="C:\nircmd-x64\nircmdc.exe",autospeed-monitor=0,autospeed-dwidth=1920,autospeed-dheight=1080,autospeed-bdepth=32,autospeed-rates="23;24;25;29;30;50;59;60",autospeed-exitrate=60,autospeed-minspeed=0.9,autospeed-maxspeed=1.1,autospeed-osd=true,autospeed-osdtime=10,autospeed-osdkey=y,autospeed-estfps=false,autospeed-spause=4
                                        # 注意需要自己下载nircmdc，然后在autospeed-nircmdc里给出绝对路径。或者把nircmdc.exe所在位置加到PATH里
                                        # autospeed-monitor=0是主显示器，1、2、3……是其他副显示器
                                        # dwidth dheight bdepth 宽高和位深
                                        # autospeed-rates="23;24;25;29;30;50;59;60",autospeed-exitrate=60 显示器支持的刷新率和退出时应返回的刷新率。23指23.976
                                        # autospeed-spause=4 自动暂停的时间，秒为单位



##################
# 通用参数补充区 #
##################
#d3d11-output-csp=pq                    # [须 --gpu-api=d3d11] 此项参数用于直出HDR，且不支持条件配置会影响sdr播放。
                                        # 当前版本需先手动打开win10 OS HDR，再打开MPV后全屏开始播放

#include="~~/profiles.conf"             # 该参数用于追加读取额外的设置文件
                                        # 以下配置组参数亦可单独放入"~~/profiles.conf"中，启用该参数时效果一致

##############
# 常规配置组 #
##############
##⇘⇘常规配置没有自动触发条件（内置配置组也全为常规配置）
##需要主设置文件中使用 --profile=<profile1,profile2,...> 或多个 --profile=<xxx> 参数激活

[DeBand]
 profile-desc=deband medium
 deband
 deband-iterations=2                    # <1-16> 去色带执行次数，越高强度但也越费时费力，数值>4实际无效（默认1）
 deband-threshold=64                    # <0-4096> 滤波器的截止阈值，更高的数字会增加强度，但会逐渐减少图像细节（默认32）
 deband-range=16                        # <1-64> 初始半径，越大的值去色带越强且性能占用越高；值越小越平滑（默认值16）。如果增大 --deband-iterations，需减小此值来进行补偿
 deband-grain=48                        # <0-4096> 添加额外动态噪点，有助于掩盖剩余的量化伪影（默认48）

[DeBand+]
 profile-desc=deband high
 deband
 deband-iterations=3                    # <1-16> 去色带执行次数，越高强度但也越费时费力，数值>4实际无效（默认1），3-4相当于madvr的deband设为high的效果
 deband-threshold=64                    # <0-4096> 滤波器的截止阈值，更高的数字会增加强度，但会逐渐减少图像细节（默认32）
 deband-range=16                        # <1-64> 初始半径，越大的值去色带越强且性能占用越高；值越小越平滑（默认值16）。如果增大 --deband-iterations，需减小此值来进行补偿
 deband-grain=48                        # <0-4096> 添加额外动态噪点，有助于掩盖剩余的量化伪影（默认48）

[Tscale-box]
## 这组时间插值方案参数来自开源社区，顺滑但不一定适合所有源 https://github.com/mpv-player/mpv/issues/2685
 tscale=box
 tscale-window=quadric                  # 或者 sphinx
 tscale-radius=1.0                      # 较高值更顺滑但也更糊，例 1.01
 tscale-clamp=0.0


##############
# 条件配置组 #
##############
##⇘⇘条件触发配置，根据给定条件激发特定参数。简易格式见示例
##仅注释掉 --profile-cond 和 --profile-restore 即可将条件配置变为常规配置，常规配置的使用方法为通用区 --profile=<value>

##⇘⇘条件配置的格式示例
##[FS-loop]                              # 配置名称，自定义
##profile-desc    = 全屏时循环播放当前文件 # 配置的描述，不属于参数，随意写
##profile-cond    = fullscreen           # 触发该配置的条件。可用的属性列表 https://mpv.io/manual/master/#property-list
##profile-restore = copy                 # 此参数一般用于回归触发前的通用参数（关闭此项将保留）
##...                                    # 然后写该条件下触发的参数
##...

[chapterskip]
 profile-desc=跳过指定章节
 script-opts=chapterskip-skip=opening;ending;more;categories

[Deband-]
 profile-desc=YUV420P10及以上的源关闭去色带                  # hwdec=no，软解时生效     
 profile-cond=p["video-params/average-bpp"]>=24
 profile-restore=copy
 deband=no

[HDR2SDR]
 profile-desc=HDR映射
 profile-cond=p["video-params/primaries"]=="bt.2020"
 profile-restore=copy
 hdr-compute-peak=yes                                        # 此选项基本上提供了动态的基于场景的色调映射
 target-trc=auto
 target-peak=100                                             # 基线映射亮度nits设置，根据屏幕实际nits值和显示效果调整
 tone-mapping=mobius                                         # 色调映射算法，其他推荐能用的有mobius/reinhard/hable/gamma
 tone-mapping-param=0.3                                      # 色调映射算法的小参。bt.2390和hable无参。mobius默认0.3/reinhard默认0.5/gamma默认1.8
 blend-subtitles=no                                          # 问题状态 https://github.com/mpv-player/mpv/issues/6368
 sub-ass-force-margins=yes                                   
 #vf=""                                                      # 此项用于清空vf列表恢复合理的HDR播放效果（如果启用 --vf=format:gamma=gamma2.2 的话会影响hdr的显示）
                                 

#[VCB-Studio]
## 字符串匹配的示例写法。根据文件名中的特定字符触发的配置
## 不熟悉Lua语法的话尽量写纯数字英文或者使用叠加法达成近似效果，例：string.match(p.filename, "(VCB)")~=nil and string.match(p.filename, "(Studio)")~=nil
#profile-desc=真空断路器
#profile-cond=string.match(p.filename, "(VCB%-Studio)")~=nil
#profile-restore=copy
#deband=no


#[DVD-Anime]
#profile-desc=2D低清源增强
#profile-cond=height<=576
#profile-restore=copy
#glsl-shaders="~~/shaders/KrigBilateral.glsl;~~/shaders/FSRCNNX_x2_8-0-4-1_LineArt.glsl;~~/shaders/FSRCNNX_x2_8-0-4-1_LineArt.glsl;~~/shaders/SSimSuperRes.glsl;~~/shaders/SSimDownscaler.glsl"

[rot-fix]
 profile-desc=修复旋转输出的色度破坏
 profile-cond=p["video-params/rotate"]==90 or p["video-params/rotate"]==270
 profile-restore=copy
 hwdec=no